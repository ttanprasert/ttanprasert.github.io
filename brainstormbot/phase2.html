<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Groupchat-Prototype</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<link rel="stylesheet" href="./styles2.css" type="text/css">

</head>

<body onload="setup()">

<div class="row">
    <div class="column" style="left: 1%;">
        <div class="content" id="instContent" style="display:block;">
            <h2 style="margin-top: 10px;">Activity instruction</h2>
            <div class="surveyContainer">
                <h3 style="margin-top: 0px;">Scenario</h3> 
                You and your teammates are preparing for a debate. Your team discuss to come up with strong arguments together, although you will be the one to represent the team in the debate.
                <h3>Steps</h3>
                <ol>
                    <li>Click the button at the end of this instruction to start the activity. It will open a pop-up window with a debate prompt.</li>
                    <li>Answer the debate prompt. Your answer will be fixed as your team's stance for this activity.</li>
                    <li>Discuss with your teammates in the chat window to generate arguments to support your stance. Your teammates may or may not personally agree to your stance, but their goal is to help support your stance anyway.</li>
                    <li>During the discussion, you can take notes on the empty space on the right side of the screen.</li>
                    <li>After the discussion is saturated, click the button "End the discussion" in the bottom-right corner. You will then fill the final argument form. You will not have access to your chat window after that but will have your notes. This form is a replacement of the actual debate, so you should make your arguments as strong as possible. You may include the assumption behind your arguments, the evidence to support your arguments, what rebuttal you anticipate the opposite stance might make and how you expect to counter that, and other details that can help strengthen your arguments.</li>
                    <li>Although there is <b>no time limit</b> to this activity, the expected completion time (starting when you pick your stance) is 15 minutes. There will be a notification at the 15-minute mark as a reminder.</li> 
                </ol>
                <h3>Evaluation criteria</h3>
                <ul>
                    <li>Quality of the arguments (group). Your arguments evaluated in two aspects (weighed equally):
                        <ol>
                            <li><b>Argument strength:</b> Each of the 3 arguments will be graded separately for this. The strength of the argument are based on its relevance to the topic, the logical connection between the evidence and the argument it supports, and the student's demonstration of anticipation of rebuttals and how to address the rebuttals.</li>
                            <li><b>Variance between arguments:</b> Each argument should be sufficiently different from each other in the aspects of the problems that it addresses, the values and perspectives from which the arguments are founded, and the types of evidence that supports them.</li>
                        </ol>
                    </li>
                    <li>Engagement (individual). The grader will will determine each member's engagement with the activity and their contribution to the final outcome based on the chat log.</li>
                </ul>
            </div>
            <button class="startButton" id="startButton" style="margin-top:10px;" onclick="openPopup();">Start the activity</button>
        </div>
    </div>

    <div class="column" id="chatCol" style="left: 34%;">
        <div class="chat" id="chatbot">
            <h2 id="chatname" style="margin-top:10px; margin-bottom: 0px;">Discussion chatroom</h2>
            <p id="chatorder"><b>Chat order:</b> Taylor <i class="fa fa-arrow-right"></i> Jordan <i class="fa fa-arrow-right"></i> Riley <i class="fa fa-arrow-right"></i> You</p>
            <div id="chatwindow" class="chatContainer"></div>
            <!--div id="chatmask" class="chatContainer" style="z-index: 1; width: calc(100% - 110px); cursor:not-allowed;"></div-->
            <textarea id="message-input" class="textBox" disabled></textarea>
        </div>
    </div>

    <div class="column" id="noteCol" style="left: 67%;">
        <div class="survey" id="note">
            <h2 style="margin-top:10px">Your personal notes</h2>
            <textarea id="discussionNotes" name="discussionNotes" style="width: calc(100% - 5px); height: calc(100% - 150px);" disabled></textarea>
            <button class="startButton" id="endButton" style="margin-top:10px;" onclick="endDiscussion();" disabled>End the discussion</button>
        </div>
    </div>

    <!-- Final argument template -->
    <div class="column" id="templateCol" style="left: 67%; display: none;">
        <div class="survey">
            <h2 style="margin-top:10px">Your final arguments</h2>
            <div class="surveyContainer">
                <b style="font-size: 18px;">Argument 1</b><br>
                <textarea id="arg1" class="formBox" rows="10" cols="35"></textarea><br>
                <b style="font-size: 18px;">Argument 2</b><br>
                <textarea id="arg2" class="formBox" rows="10" cols="35"></textarea><br>
                <b style="font-size: 18px;">Argument 3</b><br>
                <textarea id="arg3" class="formBox" rows="10" cols="35"></textarea><br>
            </div>
            <button class="startButton" id="downloadButton" style="margin-top:10px;" onclick="getmsg();">Export data</button>
        </div>
    </div>   
</div>

<div class="popup" id="promptContent">
    <p style="text-align:center">Pick your stance on this debate topic:</p>
    <h3 id="topic" style="text-align: center;">Can good intentions exonerate one from bad outcomes?</h3>
    <div style="text-align: center;">
        <input type="radio" id="yes" name="stance" value="1">
        <label for="yes"><b style="color: green">YES</b></label>
        <input style="margin-left: 5rem" type="radio" id="no" name="stance" value="2">
        <label for="no"><b style="color:crimson">NO</b></label>
    </div>
    <button class="startButton" id="submitButton" style="background-color:gray; margin-top: 30px; padding-top: 5px; padding-bottom: 5px;" onclick="start();">Submit</button>
</div>

<script type="text/javascript" src="./brainstormbot2.js"></script>

</body>
</html>